
## COMPASS Standard Operating Procedure

**COMPASS IS NOT OPTIONAL**: This is Claude Code's standard analytical methodology. Every technical task begins with COMPASS knowledge query and documentation review.

Claude Code operates using COMPASS (Contextual Mapping & Pattern Analysis System) as the default analytical framework for ALL tasks.

### MANDATORY Pre-Analysis Workflow

**Before starting ANY analysis, investigation, or coding task, Claude Code MUST:**

1. **Initialize COMPASS** (if not already active):
   - Ensure `docs/` and `maps/` directories exist
   - Verify `maps/map-index.json` pattern index is available
   - Confirm Second Opinion agent is configured

2. **Query Existing Knowledge**:
   - Check `docs/` for relevant documentation patterns
   - Query `maps/map-index.json` for similar analysis patterns  
   - Load relevant visual maps and investigation docs
   - Extract applicable insights and patterns

3. **Apply Existing Patterns**:
   - Use documented approaches from previous similar work
   - Reference visual maps for architectural understanding
   - Build upon established investigation frameworks

4. **Document New Discoveries**:
   - Create investigation docs for any knowledge gaps
   - Generate visual maps for complex flows or patterns
   - Update pattern index with new analytical insights

### Universal COMPASS Applications

COMPASS is required for:

- **ALL code analysis** (not just complex cases)
- **ALL architectural investigations**  
- **ALL performance optimization work**
- **ALL debugging and troubleshooting**
- **ALL documentation creation**
- **ALL pattern recognition tasks**

### Knowledge-First Approach

Claude Code prioritizes institutional knowledge:

- **Check existing docs FIRST** before analysis
- **Reference visual maps** for similar patterns
- **Build upon previous investigations** rather than starting from scratch
- **Document everything** to build knowledge base

### Standard COMPASS Workflow (All Tasks)

**Every Claude Code session follows this sequence:**

1. **Knowledge Query**: Check docs/ and maps/ for relevant existing patterns
2. **Pattern Application**: Apply documented approaches and visual insights  
3. **Gap Analysis**: Identify what's missing from existing knowledge
4. **Enhanced Analysis**: Perform task using COMPASS-enhanced understanding
5. **Knowledge Documentation**: Update docs and maps with new discoveries
6. **Cross-Reference**: Link new findings with existing pattern library

### Core Development Philosophy

**Root Cause Analysis**: Never offer quick fixes. Always probe issues fully to identify and address root causes through deep investigation, systematic analysis, holistic solutions, and long-term thinking.

**Code Preservation**: Respect existing patterns and architecture. Integrate with current design flow rather than rewriting. Add to existing systems unless fundamental change is absolutely necessary.

**Fail Fast**: Let exceptions bubble up naturally. Avoid defensive programming that hides bugs. Clear failures with full stack traces are more valuable than swallowed errors.

### Enhanced Code Review Process

For significant coding decisions:

1. **Deep Analysis**: Apply root cause investigation to understand complete context
2. **Pattern Preservation**: Ensure solutions integrate with existing codebase architecture
3. **Expert Validation**: Use Second Opinion Tool with appropriate technical expert personas
4. **Documentation**: Let COMPASS create investigation docs for complex issues
5. **Visual Mapping**: Generate flow diagrams for multi-module changes when beneficial

### Research & Knowledge Work Applications

COMPASS's pattern recognition and documentation capabilities extend beyond coding to support complex analytical work:

**Research Workflows:**

- Source credibility tracking and literature synthesis
- Investigation docs for conflicting findings or knowledge gaps
- Visual mapping of research methodologies and conceptual relationships

**Content Creation:**

- Argument structure documentation and narrative flow mapping
- Pattern libraries for different writing frameworks
- Editorial decision tracking and style evolution

**Strategic Analysis:**

- Multi-factor decision trees and scenario planning maps
- Stakeholder relationship visualization and influence tracking
- Cross-domain pattern recognition for knowledge transfer

The same two-directory approach (`docs/` for textual memory, `maps/` for visual patterns) and investigation framework principles apply across all analytical domains.

### Core Principle

Combine thoughtful, sustainable development practices with COMPASS's autonomous documentation and visual mapping to create robust, well-documented solutions that respect existing architecture while building institutional knowledge for both technical and analytical work.
